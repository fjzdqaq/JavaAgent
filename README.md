# æ™ºèƒ½ç½‘é¡µçˆ¬è™«ä¸æ•°æ®æ¸…æ´—å·¥å…·

è¿™ä¸ªé¡¹ç›®æä¾›äº†ä¸€å¥—å®Œæ•´çš„ç½‘é¡µæ•°æ®çˆ¬å–å’Œæ¸…æ´—è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒå¤šç§ç½‘ç«™çš„ä¸“é—¨åŒ–å¤„ç†ã€‚

> ğŸ³ **Dockerç¯å¢ƒè¯´æ˜**: æœ¬é¡¹ç›®åŸºäºDockerå¼€å‘ï¼Œæ‚¨åªéœ€å®‰è£…Dockerå’ŒVSCodeï¼ˆæˆ–Cursorï¼‰ï¼Œåœ¨å¼€å‘å®¹å™¨ä¸­æ‰“å¼€å³å¯ç›´æ¥ä½¿ç”¨ã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹ç‚¹

### é€šç”¨çˆ¬è™«åŠŸèƒ½
- æ”¯æŒçˆ¬å–ä»»æ„ç½‘é¡µå†…å®¹
- è‡ªåŠ¨ç”ŸæˆHTMLã€Markdownã€çº¯æ–‡æœ¬ä¸‰ç§æ ¼å¼
- æ™ºèƒ½æ–‡ä»¶å‘½åå’Œç›®å½•ç®¡ç†
- æ”¯æŒå‘½ä»¤è¡Œå’Œäº¤äº’å¼ä¸¤ç§æ¨¡å¼

### ä¸“ä¸šæ•°æ®æ¸…æ´—
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šä¸ºä¸åŒç½‘ç«™åˆ›å»ºä¸“é—¨çš„æ¸…æ´—å™¨
- **ç»“æ„åŒ–è¾“å‡º**ï¼šè½¬æ¢ä¸ºæ ‡å‡†JSONæ ¼å¼ï¼Œä¾¿äºåç»­å¤„ç†
- **å†…å®¹ä¼˜åŒ–**ï¼šè‡ªåŠ¨æ¸…ç†å¹¿å‘Šã€æ— å…³å†…å®¹
- **æ™ºèƒ½è§£æ**ï¼šæŒ‰æ ‡é¢˜å±‚çº§ç»“æ„åŒ–æå–Q&Aå†…å®¹

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ script/
â”‚   â”œâ”€â”€ web_crawler.py          # ğŸ•·ï¸ é€šç”¨çˆ¬è™«ï¼ˆè·å–åŸå§‹æ•°æ®ï¼‰
â”‚   â”œâ”€â”€ data_processor.py       # ğŸ”§ æ•°æ®å¤„ç†ä¸»è„šæœ¬
â”‚   â””â”€â”€ cleaners/               # ğŸ§¹ æ¸…æ´—è„šæœ¬ç›®å½•
â”‚       â””â”€â”€ javaguide_cleaner.py # JavaGuideä¸“ç”¨æ¸…æ´—å™¨
â”œâ”€â”€ knowledge/                  # ğŸ“š æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ raw/                   # ğŸ“„ åŸå§‹çˆ¬å–æ•°æ®
â”‚   â”œâ”€â”€ cleaned/               # âœ¨ æ¸…æ´—åçš„ç»“æ„åŒ–æ•°æ®
â”‚   â”‚   â””â”€â”€ javaguide/         # JavaGuideä¸“é—¨ç›®å½•
â”‚   â””â”€â”€ processed/             # ğŸ¯ æœ€ç»ˆå¤„ç†åçš„æ•°æ®
â”œâ”€â”€ .devcontainer/
â”‚   â””â”€â”€ Dockerfile             # ğŸ³ Dockeré…ç½®ï¼ˆå·²åŒ…å«æ‰€éœ€ä¾èµ–ï¼‰
â””â”€â”€ README.md                  # ğŸ“– é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šé€šç”¨ç½‘é¡µçˆ¬å–

```bash
# äº¤äº’å¼æ¨¡å¼
python script/web_crawler.py

# å‘½ä»¤è¡Œæ¨¡å¼
python script/web_crawler.py https://example.com
```

### æ–¹æ³•äºŒï¼šä¸“ä¸šæ•°æ®æ¸…æ´—

```bash
# JavaGuideå†…å®¹æ¸…æ´—
python script/cleaners/javaguide_cleaner.py https://javaguide.cn/java/basis/java-basic-questions-01.html

# ä½¿ç”¨æ•°æ®å¤„ç†ä¸»è„šæœ¬
python script/data_processor.py --cleaner javaguide --input https://javaguide.cn/xxx.html

# äº¤äº’å¼æ•°æ®å¤„ç†
python script/data_processor.py
```

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### çˆ¬å–åŸå§‹ç½‘é¡µ

```bash
python script/web_crawler.py https://javaguide.cn/java/basis/java-basic-questions-01.html
```

ç”Ÿæˆçš„æ–‡ä»¶ï¼š
- `knowledge/html/javaguide_cn_java_basis_20231201_143000.html`
- `knowledge/markdown/javaguide_cn_java_basis_20231201_143000.md`
- `knowledge/text/javaguide_cn_java_basis_20231201_143000.txt`

### æ¸…æ´—JavaGuideå†…å®¹

```bash
python script/cleaners/javaguide_cleaner.py https://javaguide.cn/java/basis/java-basic-questions-01.html
```

ç”Ÿæˆç»“æ„åŒ–JSONæ•°æ®ï¼š
```json
{
  "chunk_id": "javaguide-JavaåŸºç¡€å¸¸è§é—®é¢˜-ä»€ä¹ˆæ˜¯Java_20231201_143000",
  "source_info": {
    "name": "JavaGuide",
    "url": "https://javaguide.cn/java/basis/java-basic-questions-01.html",
    "type": "æŠ€æœ¯åšå®¢",
    "created_at": "2023-12-01T14:30:00"
  },
  "category": "JavaåŸºç¡€å¸¸è§é—®é¢˜",
  "sub_category": "Javaç®€ä»‹",
  "question": "ä»€ä¹ˆæ˜¯Javaï¼Ÿ",
  "answer_markdown": "Javaæ˜¯ä¸€ç§...",
  "content_for_embedding": "é—®é¢˜: ä»€ä¹ˆæ˜¯Javaï¼Ÿ\nå›ç­”: Javaæ˜¯ä¸€ç§...",
  "keywords": ["Java", "ç¼–ç¨‹è¯­è¨€"]
}
```

## ğŸ› ï¸ æ”¯æŒçš„æ¸…æ´—å™¨

| æ¸…æ´—å™¨ | æ”¯æŒç½‘ç«™ | ç‰¹æ®ŠåŠŸèƒ½ |
|--------|----------|----------|
| `javaguide_cleaner` | JavaGuideæŠ€æœ¯åšå®¢ | Q&Aç»“æ„åŒ–ã€å…³é”®è¯æå–ã€å†…å®¹å»å™ª |

## ğŸ”§ æ‰©å±•æ–°çš„æ¸…æ´—å™¨

1. åœ¨ `script/cleaners/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æ¸…æ´—å™¨ï¼š
```python
# script/cleaners/your_site_cleaner.py
class YourSiteCleaner:
    def clean_from_url(self, url):
        # å®ç°æ‚¨çš„æ¸…æ´—é€»è¾‘
        pass
```

2. åœ¨ `data_processor.py` ä¸­æ·»åŠ å¯¹åº”çš„å¤„ç†å‡½æ•°

3. æ›´æ–°å‘½ä»¤è¡Œå‚æ•°é€‰é¡¹

## ğŸ³ Dockerç¯å¢ƒ

æ‰€æœ‰ä¾èµ–åŒ…å·²åœ¨Dockerfileä¸­é¢„é…ç½®ï¼ŒåŒ…æ‹¬ï¼š
- `requests` - HTTPè¯·æ±‚åº“
- `beautifulsoup4` - HTMLè§£æåº“
- `html2text` - HTMLè½¬Markdownåº“
- `markdownify` - é«˜çº§Markdownè½¬æ¢åº“
- `lxml` - é«˜æ€§èƒ½XML/HTMLè§£æå™¨

åœ¨Dockerç¯å¢ƒä¸­å¯ç›´æ¥è¿è¡Œï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…ä¾èµ–ã€‚

## ğŸ’¡ æœ€ä½³å®è·µ

### æ•°æ®å¤„ç†å·¥ä½œæµ

1. **åŸå§‹çˆ¬å–**ï¼šä½¿ç”¨é€šç”¨çˆ¬è™«è·å–ç½‘é¡µåŸå§‹å†…å®¹
2. **ä¸“ä¸šæ¸…æ´—**ï¼šæ ¹æ®ç½‘ç«™ç‰¹ç‚¹ä½¿ç”¨å¯¹åº”æ¸…æ´—å™¨
3. **ç»“æ„åŒ–å­˜å‚¨**ï¼šæ¸…æ´—åæ•°æ®ä¿å­˜ä¸ºJSONæ ¼å¼
4. **è¿›ä¸€æ­¥å¤„ç†**ï¼šå¯ç”¨äºRAGã€æœç´¢ã€åˆ†æç­‰åº”ç”¨

### æ–‡ä»¶ç®¡ç†å»ºè®®

- `knowledge/raw/` - ä¿å­˜çˆ¬è™«åŸå§‹æ•°æ®ï¼Œä¾¿äºé‡æ–°å¤„ç†
- `knowledge/cleaned/` - æŒ‰ç½‘ç«™åˆ†ç±»ä¿å­˜æ¸…æ´—åæ•°æ®
- `knowledge/processed/` - ä¿å­˜æœ€ç»ˆåº”ç”¨æ•°æ®

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åˆè§„ä½¿ç”¨**ï¼šè¯·éµå®ˆç½‘ç«™robots.txtè§„åˆ™å’Œç›¸å…³æ³•å¾‹æ³•è§„
2. **è¯·æ±‚é¢‘ç‡**ï¼šé¿å…è¿‡äºé¢‘ç¹çš„è¯·æ±‚ï¼Œä¿æŠ¤ç›®æ ‡ç½‘ç«™
3. **å†…å®¹æƒé™**ï¼šç¡®ä¿æœ‰æƒä½¿ç”¨å’Œå¤„ç†ç›®æ ‡ç½‘ç«™å†…å®¹
4. **é”™è¯¯å¤„ç†**ï¼šæ¸…æ´—å™¨ä¼šè‡ªåŠ¨å¤„ç†å¤§éƒ¨åˆ†é”™è¯¯ï¼Œå¦‚é‡é—®é¢˜è¯·æ£€æŸ¥ç½‘å€å’Œç½‘ç»œ

## ğŸ”„ ç‰ˆæœ¬è¯´æ˜

- **v1.0**: åŸºç¡€çˆ¬è™«åŠŸèƒ½
- **v2.0**: å¢åŠ æ¨¡å—åŒ–æ¸…æ´—å™¨æ¶æ„
- **v2.1**: ä¼˜åŒ–JavaGuideæ¸…æ´—å™¨ï¼Œå¢åŠ å…³é”®è¯æå–
